<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"leonicehot.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"找到 ${hits} 個搜索結果（用時 ${time} 毫秒）","hits":"找到 ${hits} 個搜索結果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="FreeSurfer is a software suite used for the analysis and processing of neuroimaging data, particularly focusing on structural brain MRI scans. It’s an open-source software package developed by the Ath">
<meta property="og:type" content="article">
<meta property="og:title" content="FreeSurfer Installation">
<meta property="og:url" content="https://leonicehot.github.io/2024/01/02/2024/January/FreeSurfer-Installation/index.html">
<meta property="og:site_name" content="利醬の休憩房">
<meta property="og:description" content="FreeSurfer is a software suite used for the analysis and processing of neuroimaging data, particularly focusing on structural brain MRI scans. It’s an open-source software package developed by the Ath">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2024-01-02T13:22:40.000Z">
<meta property="article:modified_time" content="2024-12-11T10:57:37.733Z">
<meta property="article:author" content="利醬">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leonicehot.github.io/2024/01/02/2024/January/FreeSurfer-Installation/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-TW","comments":true,"permalink":"https://leonicehot.github.io/2024/01/02/2024/January/FreeSurfer-Installation/","path":"2024/01/02/2024/January/FreeSurfer-Installation/","title":"FreeSurfer Installation"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>FreeSurfer Installation | 利醬の休憩房</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">利醬の休憩房</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#FreeSurfer"><span class="nav-number">1.</span> <span class="nav-text">FreeSurfer</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Installation"><span class="nav-number">2.</span> <span class="nav-text">Installation</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#freeview"><span class="nav-number">3.</span> <span class="nav-text">freeview</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Qt-Installation"><span class="nav-number">3.1.</span> <span class="nav-text">Qt Installation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#View-the-console"><span class="nav-number">3.2.</span> <span class="nav-text">View the console</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Download-tutorial-data"><span class="nav-number">3.3.</span> <span class="nav-text">Download tutorial_data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-to-Freesurfer-Output"><span class="nav-number">3.4.</span> <span class="nav-text">Introduction to Freesurfer Output</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">利醬</p>
  <div class="site-description" itemprop="description">部落格記載著電腦科學基礎知識、科學應用探討、工程技術之白話筆記。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">152</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">58</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://leonicehot.github.io/2024/01/02/2024/January/FreeSurfer-Installation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="利醬">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="利醬の休憩房">
      <meta itemprop="description" content="部落格記載著電腦科學基礎知識、科學應用探討、工程技術之白話筆記。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="FreeSurfer Installation | 利醬の休憩房">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          FreeSurfer Installation
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2024-01-02 21:22:40" itemprop="dateCreated datePublished" datetime="2024-01-02T21:22:40+08:00">2024-01-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2024-12-11 18:57:37" itemprop="dateModified" datetime="2024-12-11T18:57:37+08:00">2024-12-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Science/" itemprop="url" rel="index"><span itemprop="name">Computer Science</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Science/Medical-Image-Processing/" itemprop="url" rel="index"><span itemprop="name">Medical Image Processing</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>2.5k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>5 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>FreeSurfer is a software suite used for the analysis and processing of neuroimaging data, particularly focusing on structural brain MRI scans. It’s an open-source software package developed by the Athinoula A. Martinos Center for Biomedical Imaging at Massachusetts General Hospital and Harvard Medical School.</p>
<span id="more"></span>
<h1 id="FreeSurfer"><a href="#FreeSurfer" class="headerlink" title="FreeSurfer"></a>FreeSurfer</h1><p>This tool is primarily used for tasks such as cortical surface reconstruction, volumetric segmentation, subcortical structure analysis, and cortical thickness measurements. FreeSurfer employs a series of algorithms and processing steps to segment different brain structures, map the cortical surface, and provide quantitative information about brain anatomy.</p>
<p>It is widely utilized in neuroscience research, clinical studies, and medical imaging to study brain anatomy, examine changes in brain structures related to various neurological disorders, and analyze brain development.</p>
<p>The software operates through command-line tools and also provides a graphical user interface (GUI) called Freeview for visualization and manipulation of neuroimaging data. Its functionalities include the ability to generate 3D models of brain structures, visualize and analyze cortical thickness, surface area, and volume measurements, among other neuroimaging metrics.</p>
<p>FreeSurfer has contributed significantly to the understanding of brain structure and function and is commonly used in studies related to Alzheimer’s disease, schizophrenia, multiple sclerosis, and other neurological conditions.<!--more--></p>
<h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><ol>
<li><p>Environment Installation<br>caused by bad interpreter: No such file or directory</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository universe</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install csh tcsh</span><br></pre></td></tr></table></figure>
</li>
<li><p>Download FreeSurfer<br><a target="_blank" rel="noopener" href="https://surfer.nmr.mgh.harvard.edu/fswiki/rel7downloads">https://surfer.nmr.mgh.harvard.edu/fswiki/rel7downloads</a></p>
</li>
</ol>
<ul>
<li>freesurfer-linux-ubuntu20_amd64-7.4.0.tar.gz</li>
</ul>
<ol start="3">
<li><p>Extract the file</p>
</li>
<li><p>Add the license file<br><a href="https://link.zhihu.com/?target=https://surfer.nmr.mgh.harvard.edu/registration.html">https://link.zhihu.com/?target=https%3A//surfer.nmr.mgh.harvard.edu/registration.html</a></p>
</li>
</ol>
<p>Add the license.txt to your path.</p>
<ol start="5">
<li><p>Configurations</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/freesurfer</span><br><span class="line">$ export FREESURFER_HOME=/home/cluster/freesurfer</span><br><span class="line">$ source $FREESURFER_HOME/SetUpFreeSurfer.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>Success</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-------- freesurfer-linux-ubuntu20_x86_64-7.4.0-20230510-e558e6e --------</span><br><span class="line">Setting up environment for FreeSurfer/FS-FAST (and FSL)</span><br><span class="line">FREESURFER_HOME   /home/cluster/freesurfer</span><br><span class="line">FSFAST_HOME       /home/cluster/freesurfer/fsfast</span><br><span class="line">FSF_OUTPUT_FORMAT nii.gz</span><br><span class="line">SUBJECTS_DIR      /home/cluster/freesurfer/subjects</span><br><span class="line">MNI_DIR           /home/cluster/freesurfer/mni</span><br></pre></td></tr></table></figure></li>
<li><p>Check Version</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    FreeSurfer is a set of tools for the analysis and visualization</span><br><span class="line">of structural and functional brain imaging data. FreeSurfer</span><br><span class="line">also refers to the structural imaging stream within the</span><br><span class="line">FreeSurfer suite.</span><br><span class="line"></span><br><span class="line">Users should consult the online documentation available at:</span><br><span class="line"></span><br><span class="line">http://surfer.nmr.mgh.harvard.edu</span><br><span class="line"></span><br><span class="line">Alternatively, the &#x27;recon-all&#x27; command help-text provides</span><br><span class="line">adequate information to begin processing subject data, such</span><br><span class="line">as the sample subject &#x27;bert&#x27; found in the &#x27;freesurfer/subjects&#x27;</span><br><span class="line">directory.  Type &#x27;recon-all --help&#x27; to view this help-text.</span><br><span class="line"></span><br><span class="line">Direct comments and questions to:</span><br><span class="line"></span><br><span class="line">freesurfer@nmr.mgh.harvard.edu</span><br><span class="line"></span><br><span class="line">You are running this version of FreeSurfer:</span><br><span class="line"></span><br><span class="line">freesurfer-linux-ubuntu20_x86_64-7.4.0-20230510-e558e6e</span><br></pre></td></tr></table></figure>
</li>
<li><p>Test</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ which freeview</span><br></pre></td></tr></table></figure>

 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ recon-all</span><br></pre></td></tr></table></figure>

 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ recon-all --help</span><br></pre></td></tr></table></figure>

 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">USAGE: recon-all</span><br><span class="line"></span><br><span class="line">Required Arguments:</span><br><span class="line">-subjid &lt;subjid&gt;</span><br><span class="line">-&lt;process directive&gt;</span><br><span class="line"></span><br><span class="line">Fully-Automated Directive:</span><br><span class="line">-all           : performs all stages of cortical reconstruction</span><br><span class="line">-autorecon-all : same as -all</span><br><span class="line"></span><br><span class="line">Manual-Intervention Workflow Directives:</span><br><span class="line">-autorecon1    : process stages 1-5 (see below)</span><br><span class="line">-autorecon2    : process stages 6-23</span><br><span class="line">                after autorecon2, check white surfaces:</span><br><span class="line">                    a. if wm edit was required, then run -autorecon2-wm</span><br><span class="line">                    b. if control points added, then run -autorecon2-cp</span><br><span class="line">                    c. proceed to run -autorecon3</span><br><span class="line">-autorecon2-cp : process stages 12-23 (uses -f w/ mri_normalize, -keep w/ mri_seg)</span><br><span class="line">-autorecon2-wm : process stages 15-23</span><br><span class="line">-autorecon2-inflate1 : 6-18</span><br><span class="line">-autorecon2-perhemi : tess, sm1, inf1, q, fix, sm2, inf2, finalsurf, ribbon</span><br><span class="line">-autorecon3    : process stages 24-34</span><br><span class="line">                    if edits made to correct pial, then run -autorecon-pial</span><br><span class="line">-hemi ?h       : just do lh or rh (default is to do both)</span><br><span class="line"></span><br><span class="line">Autorecon Processing Stages (see -autorecon# flags above):</span><br><span class="line">    1.  Motion Correction and Conform</span><br><span class="line">    2.  NU (Non-Uniform intensity normalization)</span><br><span class="line">    3.  Talairach transform computation</span><br><span class="line">    4.  Intensity Normalization 1</span><br><span class="line">    5.  Skull Strip</span><br><span class="line"></span><br><span class="line">    6.  EM Register (linear volumetric registration)</span><br><span class="line">    7.  CA Intensity Normalization</span><br><span class="line">    8.  CA Non-linear Volumetric Registration </span><br><span class="line">    9.  Remove neck</span><br><span class="line">    10. EM Register, with skull</span><br><span class="line">    11. CA Label (Aseg: Volumetric Labeling) and Statistics</span><br><span class="line"></span><br><span class="line">    12. Intensity Normalization 2 (start here for control points)</span><br><span class="line">    13. White matter segmentation</span><br><span class="line">    14. Edit WM With ASeg</span><br><span class="line">    15. Fill (start here for wm edits)</span><br><span class="line">    16. Tessellation (begins per-hemisphere operations)</span><br><span class="line">    17. Smooth1</span><br><span class="line">    18. Inflate1</span><br><span class="line">    19. QSphere</span><br><span class="line">    20. Automatic Topology Fixer</span><br><span class="line">    21. White Surfs (start here for brain edits for pial surf)</span><br><span class="line">    22. Smooth2</span><br><span class="line">    23. Inflate2</span><br><span class="line"></span><br><span class="line">    24. Spherical Mapping</span><br><span class="line">    25. Spherical Registration </span><br><span class="line">    26. Spherical Registration, Contralater hemisphere</span><br><span class="line">    27. Map average curvature to subject</span><br><span class="line">    28. Cortical Parcellation (Labeling)</span><br><span class="line">    29. Cortical Parcellation Statistics</span><br><span class="line">    30. Pial Surfs</span><br><span class="line">    31. WM/GM Contrast</span><br><span class="line">    32. Cortical Ribbon Mask</span><br><span class="line">    33. Cortical Parcellation mapped to ASeg</span><br><span class="line">    34  Brodmann and exvio EC labels</span><br><span class="line"></span><br><span class="line">Step-wise Directives</span><br><span class="line">See -help</span><br><span class="line"></span><br><span class="line">Expert Preferences</span><br><span class="line">-pons-crs C R S : col, row, slice of seed point for pons, used in fill</span><br><span class="line">-cc-crs C R S : col, row, slice of seed point for corpus callosum, used in fill</span><br><span class="line">-lh-crs C R S : col, row, slice of seed point for left hemisphere, used in fill</span><br><span class="line">-rh-crs C R S : col, row, slice of seed point for right hemisphere, used in fill</span><br><span class="line">-nofill        : do not use the automatic subcort seg to fill</span><br><span class="line">-watershed cmd : control skull stripping/watershed program</span><br><span class="line">-xmask file : custom external brain mask to replace automated skullstripping</span><br><span class="line">-wsless : decrease watershed threshold (leaves less skull, but can strip more brain)</span><br><span class="line">-wsmore : increase watershed threshold (leaves more skull, but can strip less brain)</span><br><span class="line">-wsatlas : use atlas when skull stripping</span><br><span class="line">-no-wsatlas : do not use atlas when skull stripping</span><br><span class="line">-no-wsgcaatlas : do not use GCA atlas when skull stripping</span><br><span class="line">-wsthresh pct : explicity set watershed threshold</span><br><span class="line">-wsseed C R S : identify an index (C, R, S) point in the skull</span><br><span class="line">-norm3diters niters : number of 3d iterations for mri_normalize</span><br><span class="line">-normmaxgrad maxgrad : max grad (-g) for mri_normalize. Default is 1.</span><br><span class="line">-norm1-b N : in the _first_ usage of mri_normalize, use control </span><br><span class="line">            point with intensity N below target (default=10.0) </span><br><span class="line">-norm2-b N : in the _second_ usage of mri_normalize, use control </span><br><span class="line">            point with intensity N below target (default=10.0) </span><br><span class="line">-norm1-n N : in the _first_ usage of mri_normalize, do N number </span><br><span class="line">            of iterations</span><br><span class="line">-norm2-n N : in the _second_ usage of mri_normalize, do N number </span><br><span class="line">            of iterations</span><br><span class="line">-cm           : conform volumes to the min voxel size </span><br><span class="line">-no-fix-with-ga : do not use genetic algorithm when fixing topology</span><br><span class="line">-fix-diag-only  : topology fixer runs until ?h.defect_labels files</span><br><span class="line">                    are created, then stops</span><br><span class="line">-seg-wlo wlo : set wlo value for mri_segment and mris_make_surfaces</span><br><span class="line">-seg-ghi ghi : set ghi value for mri_segment and mris_make_surfaces</span><br><span class="line">-nothicken   : pass &#x27;-thicken 0&#x27; to mri_segment</span><br><span class="line">-no-ca-align-after : turn off -align-after with mri_ca_register</span><br><span class="line">-no-ca-align : turn off -align with mri_ca_label</span><br><span class="line">-deface      : deface subject, written to orig_defaced.mgz</span><br><span class="line"></span><br><span class="line">-expert file     : read-in expert options file</span><br><span class="line">-xopts-use       : use pre-existing expert options file</span><br><span class="line">-xopts-clean     : delete pre-existing expert options file</span><br><span class="line">-xopts-overwrite : overwrite pre-existing expert options file</span><br><span class="line">-termscript script : run script before exiting (multiple -termscript flags possible)</span><br><span class="line">This can be good for running custom post-processing after recon-all</span><br><span class="line">The script must be in your path. The subjid is passed as the only argument</span><br><span class="line">The current directory is changed to SUBJECTS_DIR before the script is run</span><br><span class="line">The script should exit with 0 unless there is an error</span><br><span class="line"></span><br><span class="line">-mprage : assume scan parameters are MGH MP-RAGE protocol</span><br><span class="line">-washu_mprage : assume scan parameters are Wash.U. MP-RAGE protocol.</span><br><span class="line">                both mprage flags affect mri_normalize and mri_segment,</span><br><span class="line">                and assumes a darker gm.</span><br><span class="line">-schwartzya3t-atlas : for tal reg, use special young adult 3T atlas</span><br><span class="line"></span><br><span class="line">-threads num  : set number of threads to use</span><br><span class="line"></span><br><span class="line">Notification Files (Optional)</span><br><span class="line">-waitfor file : wait for file to appear before beginning</span><br><span class="line">-notify  file : create this file after finishing</span><br><span class="line"></span><br><span class="line">Status and Log files (Optional)</span><br><span class="line">-log     file : default is scripts/recon-all.log</span><br><span class="line">-status  file : default is scripts/recon-all-status.log</span><br><span class="line">-noappend     : start new log and status files instead of appending</span><br><span class="line">-no-isrunning : do not check whether this subject is currently being processed</span><br><span class="line"></span><br><span class="line">Segmentation of substructures of hippocampus and brainstem </span><br><span class="line">(These deprecated; please see segmentHA_T1.sh, segmentHA_T1.sh, segmentHA_T1_long.sh, segmentBS.sh)</span><br><span class="line">-hippocampal-subfields-T1 : segmentation of hippocampal subfields using input T1 scan</span><br><span class="line">-hippocampal-subfields-T2 file ID : segmentation using an additional scan (given by file);</span><br><span class="line">                                    ID is a user-defined identifier for the analysis</span><br><span class="line">-hippocampal-subfields-T1T2 file ID : segmentation using additional scan (given by file) and input T1</span><br><span class="line">                                        simultaneously; ID is a user-defined identifier for the analysis</span><br><span class="line">-brainstem-structures : segmentation of brainstem structures</span><br><span class="line"></span><br><span class="line">Other Arguments (Optional)</span><br><span class="line">-sd subjectsdir : specify subjects dir (default env SUBJECTS_DIR)</span><br><span class="line">-mail username  : mail user when done</span><br><span class="line">-umask umask    : set unix file permission mask (default 002)</span><br><span class="line">-grp groupid    : check that current group is alpha groupid </span><br><span class="line">-onlyversions   : print version of each binary and exit</span><br><span class="line">-debug          : print out lots of info</span><br><span class="line">-allowcoredump  : set coredump limit to unlimited</span><br><span class="line">-dontrun        : do everything but execute each command</span><br><span class="line">-version        : print version of this script and exit</span><br><span class="line">-help           : voluminous bits of wisdom</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="freeview"><a href="#freeview" class="headerlink" title="freeview"></a>freeview</h1><h2 id="Qt-Installation"><a href="#Qt-Installation" class="headerlink" title="Qt Installation"></a>Qt Installation</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install qt5-default </span><br></pre></td></tr></table></figure>

<h2 id="View-the-console"><a href="#View-the-console" class="headerlink" title="View the console"></a>View the console</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">freeview</span><br></pre></td></tr></table></figure>

<h2 id="Download-tutorial-data"><a href="#Download-tutorial-data" class="headerlink" title="Download tutorial_data"></a>Download tutorial_data</h2><p><a target="_blank" rel="noopener" href="https://surfer.nmr.mgh.harvard.edu/pub/data/tutorial_data.tar.gz">https://surfer.nmr.mgh.harvard.edu/pub/data/tutorial_data.tar.gz</a></p>
<h2 id="Introduction-to-Freesurfer-Output"><a href="#Introduction-to-Freesurfer-Output" class="headerlink" title="Introduction to Freesurfer Output"></a>Introduction to Freesurfer Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export TUTORIAL_DATA=/home/cluster/freesurfer/tutorial_data</span><br><span class="line">export SUBJECTS_DIR=$TUTORIAL_DATA/buckner_data/tutorial_subjs</span><br><span class="line">cd $SUBJECTS_DIR</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">freeview -v \</span><br><span class="line">good_output/mri/T1.mgz \</span><br><span class="line">good_output/mri/wm.mgz \</span><br><span class="line">good_output/mri/brainmask.mgz \</span><br><span class="line">good_output/mri/aseg.mgz:colormap=lut:opacity=0.2 \</span><br><span class="line">-f good_output/surf/lh.white:edgecolor=blue \</span><br><span class="line">good_output/surf/lh.pial:edgecolor=red \</span><br><span class="line">good_output/surf/rh.white:edgecolor=blue \</span><br><span class="line">good_output/surf/rh.pial:edgecolor=red</span><br></pre></td></tr></table></figure>

<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li><p>FreeSurfer Version 7 Release<br><a target="_blank" rel="noopener" href="https://surfer.nmr.mgh.harvard.edu/fswiki/rel7downloads">https://surfer.nmr.mgh.harvard.edu/fswiki/rel7downloads</a></p>
</li>
<li><p>freesurfer7.2.0安装在Ubuntu 21.04<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/538412463">https://zhuanlan.zhihu.com/p/538412463</a></p>
</li>
<li><p>Unable to locate package csh or tcsh [closed]<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/66954590/unable-to-locate-package-csh-or-tcsh">https://stackoverflow.com/questions/66954590/unable-to-locate-package-csh-or-tcsh</a></p>
</li>
<li><p>FreeSurfer Tutorial<br><a target="_blank" rel="noopener" href="https://andysbrainbook.readthedocs.io/en/latest/FreeSurfer/FreeSurfer_Introduction.html">https://andysbrainbook.readthedocs.io/en/latest/FreeSurfer/FreeSurfer_Introduction.html</a></p>
</li>
<li><p>stackoverflow - QT plarform error<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/60042568/this-application-failed-to-start-because-no-qt-platform-plugin-could-be-initiali">https://stackoverflow.com/questions/60042568/this-application-failed-to-start-because-no-qt-platform-plugin-could-be-initiali</a></p>
</li>
<li><p>stackoverflow - Unable to locate package csh or tcsh<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/66954590/unable-to-locate-package-csh-or-tcsh">https://stackoverflow.com/questions/66954590/unable-to-locate-package-csh-or-tcsh</a></p>
</li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/12/27/2023/December/Classification%20evaluation%20metrics/" rel="prev" title="Classification evaluation metrics">
                  <i class="fa fa-angle-left"></i> Classification evaluation metrics
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/01/23/2024/January/Explainable-Artificial-Intelligence/" rel="next" title="Explainable Artificial Intelligence">
                  Explainable Artificial Intelligence <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">利醬</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="總字數">410k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">12:26</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="回到頂端">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">



</body>
</html>
